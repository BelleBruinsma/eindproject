<!DOCTYPE html>
<meta charset="utf-8">
<style>

body {
  font: 10px sans-serif;
  margin: 50px;
}
 
.grid .tick {
	stroke: lightgrey;
	opacity: 0.7;
	shape-rendering: crispEdges;
}
 
.grid path {
	stroke-width: 0;
}
 
.axis path {
	fill: none;
	stroke: #bbb;
	shape-rendering: crispEdges;
}
 
.axis text {
	fill: #555;
}
 
.axis line {	
	stroke: #e7e7e7;
	shape-rendering: crispEdges;
}
 
.axis .axis-label {
	font-size: 14px;
}
 
.line {
	fill: none;
	stroke-width: 1.5px;
}
 
.dot {
	/* consider the stroke-with the mouse detect radius? */
	stroke: transparent;
	stroke-width: 10px;  
	cursor: pointer;
}
 
.dot:hover {
	stroke: rgba(68, 127, 255, 0.3);
}
 
div.tooltip {	
    position: absolute;			
    text-align: center;			
    width: 60px;					
    height: 28px;					
    padding: 2px;				
    font: 12px sans-serif;		
    background: lightsteelblue;	
    border: 0px;		
    border-radius: 8px;			
    pointer-events: none;			
} 
 
</style>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

//************************************************************
// Data notice the structure
var data = 	[
	//Ref
	[{'x':2000,'y':39.3},{'x':2001,'y':39.8},{'x':2002,'y':41},{'x':2003,'y':42.3},{'x':2004,'y':44.2},{'x':2005,'y':45.3},{'x':2006,'y':46.3},{'x':2007,'y':47.1},{'x':2008,'y':47.6},{'x':2009,'y':47.6},{'x':2010,'y':49.6},{'x':2011,'y':50.9},{'x':2012,'y':51.8},{'x':2013,'y':52.1},{'x':2014,'y':52.5},{'x':2015,'y':52.5},{'x':2016,'y':53.3},{'x':2017,'y':54.4},{'x':2018,'y':55.6},{'x':2019,'y':56.7},{'x':2020,'y':57.9},{'x':2021,'y':59},{'x':2022,'y':60.1},{'x':2023,'y':61.2},{'x':2024,'y':62.4},{'x':2025,'y':63.5},{'x':2026,'y':64.7},{'x':2027,'y':65.8},{'x':2028,'y':67},{'x':2029,'y':68.1},{'x':2030,'y':69.3},{'x':2031,'y':70.4},{'x':2032,'y':71.6},{'x':2033,'y':72.7},{'x':2034,'y':73.9},{'x':2035,'y':75},{'x':2036,'y':76.2},{'x':2037,'y':77.3},{'x':2038,'y':78.4},{'x':2039,'y':79.6},{'x':2040,'y':80.7},{'x':2041,'y':81.8},{'x':2042,'y':82.9},{'x':2043,'y':84.0},{'x':2044,'y':85.1},{'x':2045,'y':86.2},{'x':2046,'y':87.3},{'x':2047,'y':88.4},{'x':2048,'y':89.5},{'x':2049,'y':90.5},{'x':2050,'y':91.6},{'x':2051,'y':92.6},{'x':2052,'y':93.6},{'x':2053,'y':94.7},{'x':2054,'y':95.7},{'x':2055,'y':96.7},{'x':2056,'y':97.7},{'x':2057,'y':98.6},{'x':2058,'y':99.6},{'x':2059,'y':100.6},{'x':2060,'y':101.5},{'x':2061,'y':102.5},{'x':2062,'y':103.4},{'x':2063,'y':104.3},{'x':2064,'y':105.3},{'x':2065,'y':106.2},{'x':2066,'y':107.1},{'x':2067,'y':108},{'x':2068,'y':109},{'x':2069,'y':109.9},{'x':2070,'y':110.8},{'x':2071,'y':111.7},{'x':2072,'y':112.6},{'x':2073,'y':113.5},{'x':2074,'y':114.4},{'x':2075,'y':115.3},{'x':2076,'y':116.2},{'x':2077,'y':117.1},{'x':2078,'y':118},{'x':2079,'y':118.9},{'x':2080,'y':119.8},{'x':2081,'y':120.7},{'x':2082,'y':121.6},{'x':2083,'y':122.5},{'x':2084,'y':123.4},{'x':2085,'y':124.3},{'x':2086,'y':125.2},{'x':2087,'y':126.1},{'x':2088,'y':127},{'x':2089,'y':127.9},{'x':2090,'y':128.8},{'x':2091,'y':129.7},{'x':2092,'y':130.6},{'x':2093,'y':131.5},{'x':2094,'y':132.5},{'x':2095,'y':133.4},{'x':2096,'y':134.3},{'x':2097,'y':135.2},{'x':2098,'y':136.2},{'x':2099,'y':137.1},{'x':2100,'y':138}],
	//Goal
	[{'x':2000,'y':39.3},{'x':2001,'y':39.8},{'x':2002,'y':41},{'x':2003,'y':42.3},{'x':2004,'y':44.2},{'x':2005,'y':45.3},{'x':2006,'y':46.3},{'x':2007,'y':47.1},{'x':2008,'y':47.6},{'x':2009,'y':47.6},{'x':2010,'y':49.6},{'x':2011,'y':50.9},{'x':2012,'y':51.8},{'x':2013,'y':52.1},{'x':2014,'y':52.5},{'x':2015,'y':52.5},{'x':2016,'y':53.3},{'x':2017,'y':54.4},{'x':2018,'y':54.7},{'x':2019,'y':54.9},{'x':2020,'y':55.1},{'x':2021,'y':55.3},{'x':2022,'y':55.4},{'x':2023,'y':55.6},{'x':2024,'y':55.7},{'x':2025,'y':55.7},{'x':2026,'y':55.5},{'x':2027,'y':55.3},{'x':2028,'y':54.9},{'x':2029,'y':54.5},{'x':2030,'y':54},{'x':2031,'y':52.1},{'x':2032,'y':50.2},{'x':2033,'y':48.5},{'x':2034,'y':46.7},{'x':2035,'y':45.1},{'x':2036,'y':43.5},{'x':2037,'y':42},{'x':2038,'y':40.5},{'x':2039,'y':39.1},{'x':2040,'y':37.7},{'x':2041,'y':36.4},{'x':2042,'y':35.1},{'x':2043,'y':33.9},{'x':2044,'y':32.7},{'x':2045,'y':31.6},{'x':2046,'y':30.5},{'x':2047,'y':29.4},{'x':2048,'y':28.4},{'x':2049,'y':27.4},{'x':2050,'y':26.5},{'x':2051,'y':25.5},{'x':2052,'y':24.7},{'x':2053,'y':23.8},{'x':2054,'y':23},{'x':2055,'y':22.2},{'x':2056,'y':21.4},{'x':2057,'y':20.7},{'x':2058,'y':20},{'x':2059,'y':19.3},{'x':2060,'y':18.7},{'x':2061,'y':18},{'x':2062,'y':17.4},{'x':2063,'y':16.8},{'x':2064,'y':16.2},{'x':2065,'y':15.7},{'x':2066,'y':15.2},{'x':2067,'y':14.7},{'x':2068,'y':14.2},{'x':2069,'y':13.7},{'x':2070,'y':13.2},{'x':2071,'y':12.8},{'x':2072,'y':12.4},{'x':2073,'y':12},{'x':2074,'y':11.6},{'x':2075,'y':11.2},{'x':2076,'y':10.8},{'x':2077,'y':10.5},{'x':2078,'y':10.1},{'x':2079,'y':9.8},{'x':2080,'y':9.5},{'x':2081,'y':9.2},{'x':2082,'y':9},{'x':2083,'y':8.7},{'x':2084,'y':8.4},{'x':2085,'y':8.2},{'x':2086,'y':8},{'x':2087,'y':7.8},{'x':2088,'y':7.6},{'x':2089,'y':7.4},{'x':2090,'y':7.2},{'x':2091,'y':7},{'x':2092,'y':6.8},{'x':2093,'y':6.7},{'x':2094,'y':6.5},{'x':2095,'y':6.3},{'x':2096,'y':6.2},{'x':2097,'y':6},{'x':2098,'y':5.9},{'x':2099,'y':5.8},{'x':2100,'y':5.6}],
	//MIDDLE
	[{'x':2000,'y':39.3},{'x':2001,'y':39.8},{'x':2002,'y':41},{'x':2003,'y':42.3},{'x':2004,'y':44.2},{'x':2005,'y':45.3},{'x':2006,'y':46.3},{'x':2007,'y':47.1},{'x':2008,'y':47.6},{'x':2009,'y':47.6},{'x':2010,'y':49.6},{'x':2011,'y':50.9},{'x':2012,'y':51.8},{'x':2013,'y':52.1},{'x':2014,'y':52.5},{'x':2015,'y':52.5},{'x':2016,'y':53.3},{'x':2017,'y':54.4},{'x':2018,'y':54.7},{'x':2019,'y':54.9},{'x':2020,'y':55.1},{'x':2021,'y':55.3},{'x':2022,'y':55.5},{'x':2023,'y':55.6},{'x':2024,'y':55.7},{'x':2025,'y':55.8},{'x':2026,'y':55.9},{'x':2027,'y':56},{'x':2028,'y':56},{'x':2029,'y':56},{'x':2030,'y':56},{'x':2031,'y':56.2},{'x':2032,'y':56.4},{'x':2033,'y':56.7},{'x':2034,'y':56.9},{'x':2035,'y':57.2},{'x':2036,'y':57.5},{'x':2037,'y':57.8},{'x':2038,'y':58.1},{'x':2039,'y':58.4},{'x':2040,'y':58.7},{'x':2041,'y':59.1},{'x':2042,'y':59.4},{'x':2043,'y':59.8},{'x':2044,'y':60.2},{'x':2045,'y':60.6},{'x':2046,'y':60.9},{'x':2047,'y':61.3},{'x':2048,'y':61.7},{'x':2049,'y':62.1},{'x':2050,'y':62.5},{'x':2051,'y':63},{'x':2052,'y':63.4},{'x':2053,'y':63.9},{'x':2054,'y':64.3},{'x':2055,'y':64.8},{'x':2056,'y':65.3},{'x':2057,'y':65.7},{'x':2058,'y':66.2},{'x':2059,'y':66.7},{'x':2060,'y':67.1},{'x':2061,'y':67.6},{'x':2062,'y':68.1},{'x':2063,'y':68.5},{'x':2064,'y':69},{'x':2065,'y':69.5},{'x':2066,'y':69.9},{'x':2067,'y':70.4},{'x':2068,'y':70.9},{'x':2069,'y':71.3},{'x':2070,'y':71.8},{'x':2071,'y':72.3},{'x':2072,'y':72.8},{'x':2073,'y':73.2},{'x':2074,'y':73.7},{'x':2075,'y':74.2},{'x':2076,'y':74.6},{'x':2077,'y':75.1},{'x':2078,'y':75.6},{'x':2079,'y':76.1},{'x':2080,'y':76.5},{'x':2081,'y':77},{'x':2082,'y':77.5},{'x':2083,'y':77.9},{'x':2084,'y':78.4},{'x':2085,'y':78.9},{'x':2086,'y':79.4},{'x':2087,'y':79.9},{'x':2088,'y':80.3},{'x':2089,'y':80.8},{'x':2090,'y':81.3},{'x':2091,'y':81.8},{'x':2092,'y':82.3},{'x':2093,'y':82.7},{'x':2094,'y':83.2},{'x':2095,'y':83.7},{'x':2096,'y':84.2},{'x':2097,'y':84.6},{'x':2098,'y':85.1},{'x':2099,'y':85.6},{'x':2100,'y':86}]
	//[{'x':2000,'y':0},{'x':2001,'y':5},{'x':2002,'y':10},{'x':2003,'y':0},{'x':2004,'y':6},{'x':2005,'y':11},{'x':2006,'y':9},{'x':2007,'y':4},{'x':2008,'y':11},{'x':2009,'y':2},{'x':2010,'y':0},{'x':2011,'y':5},{'x':2012,'y':10},{'x':2013,'y':0},{'x':2014,'y':6},{'x':2015,'y':11},{'x':2016,'y':9},{'x':2017,'y':4},{'x':2018,'y':11},{'x':2019,'y':2},{'x':2020,'y':0},{'x':2021,'y':5},{'x':2022,'y':10},{'x':2023,'y':0},{'x':2024,'y':6},{'x':2025,'y':11},{'x':2026,'y':9},{'x':2027,'y':4},{'x':2028,'y':11},{'x':2029,'y':2},{'x':2030,'y':0},{'x':2031,'y':5},{'x':2032,'y':10},{'x':2033,'y':0},{'x':2034,'y':6},{'x':2035,'y':11},{'x':2036,'y':9},{'x':2037,'y':4},{'x':2038,'y':11},{'x':2039,'y':2},{'x':2040,'y':0},{'x':2041,'y':5},{'x':2042,'y':10},{'x':2043,'y':0},{'x':2044,'y':6},{'x':2045,'y':11},{'x':2046,'y':9},{'x':2047,'y':4},{'x':2048,'y':11},{'x':2049,'y':2},{'x':2050,'y':0},{'x':2051,'y':5},{'x':2052,'y':10},{'x':2053,'y':0},{'x':2054,'y':6},{'x':2055,'y':11},{'x':2056,'y':9},{'x':2057,'y':4},{'x':2058,'y':11},{'x':2059,'y':2},{'x':2060,'y':0},{'x':2061,'y':5},{'x':2062,'y':10},{'x':2063,'y':0},{'x':2064,'y':6},{'x':2065,'y':11},{'x':2066,'y':9},{'x':2067,'y':4},{'x':2068,'y':11},{'x':2069,'y':2},{'x':2070,'y':0},{'x':2071,'y':5},{'x':2072,'y':10},{'x':2073,'y':0},{'x':2074,'y':6},{'x':2075,'y':11},{'x':2076,'y':9},{'x':2077,'y':4},{'x':2078,'y':11},{'x':2079,'y':2},{'x':2080,'y':0},{'x':2081,'y':5},{'x':2082,'y':10},{'x':2083,'y':0},{'x':2084,'y':6},{'x':2085,'y':11},{'x':2086,'y':9},{'x':2087,'y':4},{'x':2088,'y':11},{'x':2089,'y':2},{'x':2090,'y':0},{'x':2091,'y':5},{'x':2092,'y':10},{'x':2093,'y':0},{'x':2094,'y':6},{'x':2095,'y':11},{'x':2096,'y':9},{'x':2097,'y':4},{'x':2098,'y':11},{'x':2099,'y':2},{'x':2100,'y':2}]
];
 
var colors = [
	'steelblue',
	'green',
	'red',
	'purple'
]
 
 
//************************************************************
// Create Margins and Axis and hook our zoom function
//************************************************************
var margin = {top: 20, right: 30, bottom: 30, left: 50},
    width = 960 - margin.left - margin.right,
    height = 500 - margin.top - margin.bottom;
	
var x = d3.scale.linear()
    .domain([2000, 2100])
    .range([0, width]);
 
var y = d3.scale.linear()
    .domain([-1, 140])
    .range([height, 0]);
	
	
var xAxis = d3.svg.axis()
    .scale(x)
	.tickSize(-height)
	.tickPadding(10)	
	.tickSubdivide(true)	
    .orient("bottom");	
	
var yAxis = d3.svg.axis()
    .scale(y)
	.tickPadding(10)
	.tickSize(-width)
	.tickSubdivide(true)	
    .orient("left");
	
var zoom = d3.behavior.zoom()
    .x(x)
    .y(y)
    .scaleExtent([1, 10])
    .on("zoom", zoomed);	
	
	
 
	
	
//************************************************************
// Generate our SVG object
//************************************************************	
var svg = d3.select("body").append("svg")
	.call(zoom)
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
	.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
 
svg.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + height + ")")
    .call(xAxis);
 
svg.append("g")
    .attr("class", "y axis")
    .call(yAxis);
 
svg.append("g")
	.attr("class", "y axis")
	.append("text")
	.attr("class", "axis-label")
	.attr("transform", "rotate(-90)")
	.attr("y", (-margin.left) + 10)
	.attr("x", -height/2)
	.text('Axis Label');	
 
svg.append("clipPath")
	.attr("id", "clip")
	.append("rect")
	.attr("width", width)
	.attr("height", height);
	
	
	
	
	
//************************************************************
// Create D3 line object and draw data on our SVG object
//************************************************************
var line = d3.svg.line()
    .interpolate("linear")	
    .x(function(d) { return x(d.x); })
    .y(function(d) { return y(d.y); });		
	
svg.selectAll('.line')
	.data(data)
	.enter()
	.append("path")
    .attr("class", "line")
	.attr("clip-path", "url(#clip)")
	.attr('stroke', function(d,i){ 			
		return colors[i%colors.length];
	})
    .attr("d", line);	

// Define the div for the tooltip
var div = d3.select("body").append("div")	
    .attr("class", "tooltip")				
    .style("opacity", 0);	
	
	
	
	
//************************************************************
// Draw points on SVG object based on the data given
//************************************************************
var points = svg.selectAll('.dots')
	.data(data)
	.enter()
	.append("g")
    .attr("class", "dots")
	.attr("clip-path", "url(#clip)");	
 
points.selectAll('.dot')
	.data(function(d, index){ 		
		var a = [];
		d.forEach(function(point,i){
			a.push({'index': index, 'point': point});
		});		
		return a;
	})
	.enter()
	.append('circle')
	.attr('class','dot')
	.attr("r", 2.5)
	.attr('fill', function(d,i){ 	
		return colors[d.index%colors.length];
	})	
	.attr("transform", function(d) { 
		return "translate(" + x(d.point.x) + "," + y(d.point.y) + ")"; })
	.on("mouseover", function(d) {
		//console.log(d.point.y)		
    	div.transition()		
    		.duration(200)		
            .style("opacity", .9);		
        div.html(d.point.y + "<br/>"  + d.point.x)	
            .style("left", (d3.event.pageX) + "px")		
            .style("top", (d3.event.pageY - 28) + "px");	
    })					
    .on("mouseout", function(d) {		
        div.transition()		
            .duration(500)		
            .style("opacity", 0);	
    });
	
 
	
	
	
	
//************************************************************
// Zoom specific updates
//************************************************************
function zoomed() {
	svg.select(".x.axis").call(xAxis);
	svg.select(".y.axis").call(yAxis);   
	svg.selectAll('path.line').attr('d', line);  
 
	points.selectAll('circle').attr("transform", function(d) { 
		return "translate(" + x(d.point.x) + "," + y(d.point.y) + ")"; }
	);  
}

</script>