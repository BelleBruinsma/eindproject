# Belle Bruinsma

## Beschrijving visualisatie

Het onderwerp dat ik heb gekozen voor mijn eindproject is het Paris Agreement. Ik heb hiervoor gekozen omdat Donald Trump onlangs heeft besloten zich terug te trekken van het Paris Agreement en ik was mij daar enorm over aan het opwinden. Op mijn website is informatie te vinden over het Paris Agreement, wat hun doelen zijn en wat het betekent als Amerika zich terug trekt. Dit wordt weergegeven aan de hand van een lijn grafiek. Er worden voorspellingen gedaan tot aan het jaar 2100 op basis van de gegevens die er nu zijn over de gas emissies in de wereld. De grafiek laat zien wat er gebeurt als de wereld blijft doorgaan zoals nu, als Amerika zich heeft terug getrokken van het Paris Agreement, als de doelen van het Paris Agreement worden behaalt en wanneer er alleen nog maar groene energie zou worden geproduceerd. Tevens is er weergegeven wat het aandeel van gas emissie van China, Amerika, Europa, ontwikkelde landen en ontwikkelende landen is. De tabel naast de lijn grafiek geeft voor elk land weer wat het in het afgelopen jaar heeft geïnvesteerd in het Paris Agreement zodat ook armere landen zich kunnen ontwikkelen. De volgende pagina laat zien hoeveel elk land zich nu al inzet voor een schoner milieu. Aan de hand van een wereld kaart is voor elk land weergegeven hoeveel procent van de totale energie productie bestaat uit groene energie. Naast de wereldkaart wordt er een scatterplot weergegeven waarin wordt gekeken of het percentage groene energie dat een land produceert in verband staat met de hoeveelheid gas emissies of dat er een verband is met de datum wanneer het heeft getekend voor het Paris Agreement.

![alt text](https://github.com/BelleBruinsma/eindproject/blob/master/pictures/eerste.png "Website 1")
![alt text](https://github.com/BelleBruinsma/eindproject/blob/master/pictures/tweede.png "Website 2")


## Technisch design

De website bestaat uit 6 gecodeerde visualisaties. Een pie-chart/donut-chart die informatie laat zien als je er met de muis overheen gaat. Een lijngrafiek die kan inzoomen en interactief is met de tabel die ernaast staat. De bijpassende informatie wordt in de tabel namelijk opgelicht in het blauw als de muis over de zwarte lijnen van de lijngrafiek gaat. In de eerste tabel kan er worden geklikt op de werelddelen en vervolgens verschijnt er een tweede tabel met alle landen waaruit het bestaat en zijn bijpassende informatie. Tot slot wordt er een scatterplot weergegeven die interactief is met een wereldkaart. In de scatterplot is een kleuren legende gemaakt aan de hand van de y-as. Hoeveel elk land dus scoort op de y-as bepaalt zijn kleur op de wereldkaart. Wanneer er een puntje in het scatterplot wordt geselecteerd blijft het bijpassende land zichtbaar in kleur en wordt de rest van de wereldkaart grijs. Op deze manier is heel goed zichtbaar  welke landen bijvoorbeeld hoog scoren op de productie van groene energie en welke niet. Tevens is in de scatterplot zichtbaar of er een verband is tussen de productie van groene energie en gas emissies en het verband tussen groene energie en de datum dat er is getekend voor het Paris Agreement. 

De donut-chart is gemaakt aan de hand van de Morris library en gebruikt jQuery en Raphael om simpele grafieken te maken. Je geeft de donut alleen een label, een waarde en een kleur mee. De lijngrafiek is gemaakt met d3 versie 3. Het bevat een zoom functie “d3.behavior.zoom()” waarbij “scaleExtent” de minimale en maximale schaalverhouding specificeert. Ook is er een functie gemaakt voor de informatie die elke lijn weergeeft in de tooltip. Dit is een erg grote functie met veel “if” statements, maar dit kon niet anders aangezien elke lijn aan storytelling doet en informatie verschaft. Tot slot worden er twee functies aangeroepen die de legende tekst en kleur weergeven. De twee tabellen zijn gemaakt met behulp van de library DataTables. In jQuery wordt er via html een tabel aangemaakt en wordt er meegegeven wat de kolom variabelen zijn. Mijn data heb ik in verschillende array’s gezet die worden gebruikt in de functie van de twee tabellen. De scatterplot is gemaakt met d3 versie 4. Via queue worden de twee datasets ingeladen. Met d3.scaleTreshold() wordt er in de scatterplot een kleuren legende gemaakt waarbij de kleuren en domeinen worden meegegeven. De functie “initialize“ zorgt ervoor als er op het dropdown menu wordt geklikt de functie “updater” wordt aangeroepen die de scatterplot verwijderd en opnieuw maakt met de bijpassende x-as die is geselecteerd in het dropdown menu. In de functie “updater” worden een aantal dingen herhaalt die ook in “initialize” worden gedaan. Helaas werkte dit niet anders en ben ik er niet achter gekomen hoe dit beter kon. De functie “initialize” geeft tot slot de onBrush functie mee. De onBrush functie zorgt ervoor dat wanneer de user een gebied in de scatterplot selecteert, het de wereldkaart een update geeft, zodat deze de kleuren weergeeft van de landen die zijn geselecteerd en de rest van de landen grijs maakt. Het dropdown menu heeft twee verschillende keuzes die beide een andere x-as weergeven (de y-as blijft hetzelfde). De x-as van de Global emissions is op logaritmische schaal weergegeven. Dit komt doordat Amerika , Rusland en Chine outliers zijn en de scatterplot uit zijn verband zou worden getrokken. Voor de wereldkaart (oftewel choropleth) is de d3.geoMercator map gebruikt. Aan de hand van een tooltip is te zien hoeveel procent elk land aan groene energie productie doet. Verder bevat het de update functie die wordt aangeroepen als er in de scatterplot iets wordt geselecteerd.

## Proces 

In de eerste week ben ik opzoek gegaan naar een dataset die paste bij het onderwerp Paris Agreement. Ik vond veel informatie over verschillende gas emissies en groene energie productie/consumptie over de wereld en veel artikels over Donald Trump die had aangekondigd dat hij zich zou terug trekken uit het Parijs akkoord. Ik had een aantal schetsen gemaakt over wat ik allemaal wilde vertellen en hoe het er ongeveer uit moest gaan zien. Al snel begon ik met programmeren alleen de library die ik gebruikte (dc) bleek te makkelijk te zijn volgens Tim dus moest ik na drie dagen weer opnieuw beginnen. Vervolgens ben ik gestart met de scatterplot en wereldkaart. Een aantal keer heb ik een dataset gebruikt die toch niet ideaal bleek te zijn waardoor ik erg veel tijd kwijt was met herhaling. Ik wilde graag iets van het Paris agreement terug laten komen in die twee visualisaties maar kon geen goede data vinden waarmee dat kon. Uiteindelijk heb ik gekozen voor de datum dat elk land heeft getekend voor het Paris Agreement. Ik had gehoopt dat landen die een hoog percentage groene energie produceren ook eerder zouden gaan tekenen voor het akkoord. Ik ben veel tijd kwijt geweest met het maken van de checkbox en de verschillende x-assen en schalen die horen bij de scatterplot. Ik had dit nog niet eerder gedaan en ging maar met kleine stapjes vooruit. Toen het eindelijk was gelukt ben ik begonnen met de lijngrafiek. Mijn dataset bestond uit voorspellingen tot 2100 en tot 2030. Ik wilde dus graag een zoom functie in de lijngrafiek zodat ik kon inzoomen op de lijnen die tot 2030 gingen. Tevens wilde ik extra informatie verschaffen als de user met zijn muis over de lijnen zou gaan. Dit zou een extra stukje storytelling worden. De legenda van de verschillende lijnen wilde ik in de lijngrafiek neerzetten bij het uiteinde van de lijn, maar door de zoomfunctie werd dit een stuk lastiger. Ik ben helaas meerdere dagen bezig geweest om het werkende te krijgen en het is me uiteindelijk niet gelukt. Tot slot heb ik de twee tabellen gemaakt en de donut-chart. Wat ik in het vervolg anders had willen is dat ik te snel ben begonnen met programmeren omdat ik zenuwachtig was dat ik anders niet op tijd klaar zou zijn. Helaas heb ik daardoor veel dingen opnieuw moeten doen omdat iets toch niet helemaal werkte of omdat ik de dataset toch niet goed genoeg vond. Het had me veel tijd gescheeld als ik van te voren alles nog beter had uitgewerkt. Ik snap nu d3 wel een stuk beter en dat terwijl we maar 4 weken verder zijn. Tijdens het vak DataProcessing heb ik ook veel in d3 gewerkt maar bleek ik toch nog veel dingen niet precies te snappen. Dat gevoel heb ik nu wel veel meer.


Uiteindelijk gaat mijn website niet alleen over wat er gebeurd als Amerika zich terug trekt van het Paris Agreement maar is het breder. Het verschaft informatie over het Paris Agreement, wat er gebeurd met de gas emissies en hoeveel geld elk land wil besteden aan het Agreement. Maar het geeft ook weer hoeveel elk land bezig is met het creëren van een schoner milieu en wat daarmee in verband zou kunnen staan. Als het alleen maar over Amerika en het Paris Agreement zou gaan zouden dat vooral voorspellingen zijn en dat is lastig in te schatten aangezien dit niet betekend dat Amerika helemaal niks meer gaat doen om gas emissies te reduceren. Als ik veel meer tijd had gehad had ik het willen uitbreiden. Nu kijk ik of er een verband is tussen productie van groene energie en de datum dat elk land tekent voor het Agreement, dit bleek niet zo te zijn. Het zou leuk zijn om veel verschillende variabelen te kunnen selecteren om te kijken wat dan wel een verband zou weergeven. Tevens had ik iets willen laten zien wat de nieuwe plannen zijn om de doelen van het Paris Agreement alsnog te halen nu Amerika niet meer meedoet. 



